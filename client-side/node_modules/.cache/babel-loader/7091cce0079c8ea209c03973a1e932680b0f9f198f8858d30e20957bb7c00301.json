{"ast":null,"code":"var _jsxFileName = \"/Users/angelogentileiii/Development/code/phase-2/phase-two-project/Project/social-diner/client-side/src/App.js\",\n  _s = $RefreshSig$();\nimport '.';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useEffect, useState } from 'react';\nimport { createBrowserRouter, RouterProvider } from 'react-router-dom';\nimport Header from './components/Header';\nimport Home from './pages/Home';\nimport UserList from './pages/UserList';\nimport Profile from './pages/Profile';\nimport ErrorPage from './pages/ErrorPage';\nimport AddReview from './pages/AddReview';\nimport Login from './pages/Login';\nimport AddProfile from './pages/AddProfile';\n\n//home page components\nimport Landing from './components/Landing';\nimport NewsNav from './components/NewsNav';\nimport Instagram from './components/Instagram';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userData, setUserData] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  useEffect(() => {\n    // Fetch the user email and token from local storage\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    // If the token/email does not exist, mark the user as logged out\n    if (!user || !user.token) {\n      setLoggedIn(false);\n      return;\n    }\n\n    // If the token exists, verify it with the auth server to see if it is valid\n    fetch(\"http://localhost:3080/verify\", {\n      method: \"POST\",\n      headers: {\n        'jwt-token': user.token\n      }\n    }).then(r => r.json()).then(r => {\n      setLoggedIn('success' === r.message);\n      setEmail(user.email || \"\");\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`http://localhost:3000/profiles`).then(response => response.json()).then(returnedData => {\n      setUserData(returnedData);\n    });\n  }, []);\n  const routes = [{\n    path: \"/\",\n    element: /*#__PURE__*/_jsxDEV(Home, {\n      loggedIn: loggedIn,\n      setLoggedIn: setLoggedIn,\n      email: email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 18\n    }, this),\n    errorElement: /*#__PURE__*/_jsxDEV(ErrorPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }, this),\n    children: [{\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Landing, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this),\n      children: [{\n        path: \"home/instagram\",\n        element: /*#__PURE__*/_jsxDEV(Instagram, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 30\n        }, this)\n      }\n      // {\n      //   path: \"home/infatuation\",\n      //   element: <Infatuation />\n      // }\n      ]\n    }, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(Login, {\n        setLoggedIn: setLoggedIn,\n        setEmail: setEmail,\n        loggedIn: loggedIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 24\n      }, this)\n    }, {\n      path: \"/profiles\",\n      element: /*#__PURE__*/_jsxDEV(UserList, {\n        userData: userData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 24\n      }, this)\n    }, {\n      path: \"profiles/:profileID\",\n      element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 24\n      }, this)\n    }, {\n      path: \"/:profileID/addreview\",\n      element: /*#__PURE__*/_jsxDEV(AddReview, {\n        userData: userData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 24\n      }, this)\n    }, {\n      path: \"/addprofile\",\n      element: /*#__PURE__*/_jsxDEV(AddProfile, {\n        userData: userData,\n        setUserData: setUserData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 24\n      }, this)\n    }]\n  }];\n  const router = createBrowserRouter(routes);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(RouterProvider, {\n        router: router\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"riOXE1/qKiDI8xjzSjIzyj34ubY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","createBrowserRouter","RouterProvider","Header","Home","UserList","Profile","ErrorPage","AddReview","Login","AddProfile","Landing","NewsNav","Instagram","jsxDEV","_jsxDEV","App","_s","userData","setUserData","loggedIn","setLoggedIn","email","setEmail","user","JSON","parse","localStorage","getItem","token","fetch","method","headers","then","r","json","message","response","returnedData","routes","path","element","fileName","_jsxFileName","lineNumber","columnNumber","errorElement","children","router","className","_c","$RefreshReg$"],"sources":["/Users/angelogentileiii/Development/code/phase-2/phase-two-project/Project/social-diner/client-side/src/App.js"],"sourcesContent":["import '.';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { useEffect, useState } from 'react';\nimport { createBrowserRouter, RouterProvider } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Home from './pages/Home';\nimport UserList from './pages/UserList';\nimport Profile from './pages/Profile';\nimport ErrorPage from './pages/ErrorPage';\nimport AddReview from './pages/AddReview';\nimport Login from './pages/Login';\nimport AddProfile from './pages/AddProfile';\n\n//home page components\nimport Landing from './components/Landing';\nimport NewsNav from './components/NewsNav';\nimport Instagram from './components/Instagram';\n\nfunction App() {\n  const [userData, setUserData] = useState([])\n\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [email, setEmail] = useState(\"\")\n\n  useEffect(() => {\n    // Fetch the user email and token from local storage\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n\n    // If the token/email does not exist, mark the user as logged out\n    if (!user || !user.token) {\n      setLoggedIn(false)\n      return\n    }\n\n    // If the token exists, verify it with the auth server to see if it is valid\n    fetch(\"http://localhost:3080/verify\", {\n            method: \"POST\",\n            headers: {\n                'jwt-token': user.token\n              }\n        })\n        .then(r => r.json())\n        .then(r => {\n            setLoggedIn('success' === r.message)\n            setEmail(user.email || \"\")\n        })\n  }, [])\n\n  useEffect(()=> {\n    fetch(`http://localhost:3000/profiles`)\n      .then(response => response.json())\n      .then(returnedData => {\n        setUserData(returnedData)\n      })\n  }, [])\n\n  const routes = [\n    {\n        path: \"/\",\n        element: <Home \n        loggedIn={loggedIn} \n        setLoggedIn={setLoggedIn} \n        email={email}\n        />,\n        errorElement: <ErrorPage />,\n        children: [\n            {\n                path: \"/\",\n                element: (\n                  <div>\n                    <Landing />\n                  </div>\n                ),\n                children: [\n                  {\n                    path: \"home/instagram\",\n                    element: <Instagram />\n                  }\n                  // {\n                  //   path: \"home/infatuation\",\n                  //   element: <Infatuation />\n                  // }\n                ]\n            },\n            {\n              path: \"/login\",\n              element: <Login setLoggedIn={setLoggedIn} setEmail={setEmail} loggedIn={loggedIn} />\n            },\n            {\n              path: \"/profiles\",\n              element: <UserList userData={userData}/>\n            },\n            {\n              path: \"profiles/:profileID\",\n              element: <Profile />\n            },\n            {\n              path: \"/:profileID/addreview\",\n              element: <AddReview userData={userData}/>\n            },\n            {\n              path: \"/addprofile\",\n              element: <AddProfile \n              userData={userData}\n              setUserData={setUserData}\n              />\n            }\n        ]\n    }\n]\n\n  const router = createBrowserRouter(routes);\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <Header />\n      </header>\n      <main>\n        <RouterProvider router={router} />\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}